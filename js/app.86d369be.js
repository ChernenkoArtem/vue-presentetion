(function(){"use strict";var e={1906:function(e,t,r){var n=r(9242),o=r(3396);function s(e,t,r,n,s,c){const i=(0,o.up)("CurrencyConverter"),a=(0,o.up)("CurrenciesCompareList");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(i),(0,o.Wm)(a)],64)}var c=r(6520);const i={class:"converter"},a={class:"converter__item"},l={for:"from_input"},u=["value"],p=(0,o._)("span",{class:"double-arrows"},"⇄",-1),d={class:"converter__item"},h={for:"to_input"},f=["value"];function v(e,t,r,n,s,c){const v=(0,o.up)("ISelect");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("div",a,[(0,o._)("label",l,[(0,o._)("input",{id:"from_input",type:"text",onInput:t[0]||(t[0]=t=>e.onChangeDebounced(t,e.converterEnum.from)),value:e.converterData.from.value},null,40,u)]),(0,o.Wm)(v,{"options-list":e.commonCurrencySeries,"default-value":e.converterData.from.currency,onSelectedValue:t[1]||(t[1]=t=>e.selectHandler(t,e.converterEnum.from))},null,8,["options-list","default-value"])]),p,(0,o._)("div",d,[(0,o._)("label",h,[(0,o._)("input",{id:"to_input",type:"text",onInput:t[2]||(t[2]=t=>e.onChangeDebounced(t,e.converterEnum.to)),value:e.converterData.to.value},null,40,f)]),(0,o.Wm)(v,{"options-list":e.commonCurrencySeries,"default-value":e.converterData.to.currency,onSelectedValue:t[3]||(t[3]=t=>e.selectHandler(t,e.converterEnum.to))},null,8,["options-list","default-value"])])])}var m=r(7327);const y={currencyAPIKey:"9z5TPFV6XrrZkQRozDFqwDqMjQaUAzKG"};var g=y;class C{constructor(){(0,m.Z)(this,"headers",void 0),(0,m.Z)(this,"commonSeries",["USD","EUR","UAH","FJD","BTC","ETB","EGP"]),this.headers=new Headers,this.headers.append("apikey",g.currencyAPIKey)}getSymbols(){const e={method:"GET",redirect:"follow",headers:this.headers};return fetch("https://api.apilayer.com/exchangerates_data/symbols",e).then((e=>Promise.resolve(this.parseResponse(e))))}getConvert(e,t,r){const n={method:"GET",redirect:"follow",headers:this.headers};return fetch(`https://api.apilayer.com/exchangerates_data/convert?to=${t}&from=${e}&amount=${r}`,n).then((e=>Promise.resolve(this.parseResponse(e))))}getCurrencyCompare(e,t){const r={method:"GET",redirect:"follow",headers:this.headers};return fetch(`https://api.apilayer.com/exchangerates_data/latest?symbols=${t}&base=${e}`,r).then((e=>Promise.resolve(this.parseResponse(e))))}async parseResponse(e){return JSON.parse(await e.text())}}var b=new C,_=r(7139);const w=["tabindex"],S={key:0,class:"search-box"},O={for:"searchId"},D=["onClick"];function R(e,t,r,s,c,i){return(0,o.wg)(),(0,o.iD)("div",{class:"custom-select",tabindex:e.tabindex,onBlur:t[4]||(t[4]=t=>e.open=!1)},[(0,o._)("div",{class:(0,_.C_)(["selected",{open:e.open}]),onClick:t[0]||(t[0]=t=>e.open=!e.open),onKeydown:t[1]||(t[1]=()=>{})},(0,_.zw)(e.selected),35),(0,o._)("div",{class:(0,_.C_)(["items",{selectHide:!e.open}])},[(0,o.WI)(e.$slots,"option"),e.search?((0,o.wg)(),(0,o.iD)("div",S,[(0,o._)("label",O,[(0,o.wy)((0,o._)("input",{id:"searchId","onUpdate:modelValue":t[2]||(t[2]=t=>e.searchValue=t),type:"text",placeholder:"Start Typing..."},null,512),[[n.nr,e.searchValue]])])])):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.filteredList,((r,n)=>((0,o.wg)(),(0,o.iD)("div",{class:"option",key:n,onClick:t=>e.onChanged(r),onKeydown:t[3]||(t[3]=()=>{})},(0,_.zw)(r),41,D)))),128))],2)],40,w)}var P=r(4815),V=function(e,t,r,n){var o,s=arguments.length,c=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(s<3?o(c):s>3?o(t,r,c):o(t,r))||c);return s>3&&c&&Object.defineProperty(t,r,c),c};let I=class extends c.w3{constructor(...e){super(...e),(0,m.Z)(this,"optionsList",void 0),(0,m.Z)(this,"search",void 0),(0,m.Z)(this,"defaultValue",void 0),(0,m.Z)(this,"selected",""),(0,m.Z)(this,"searchValue",""),(0,m.Z)(this,"open",!1)}mounted(){this.selected=this.defaultValue||""}selectedValue(){return this.selected}onChanged(e){this.selected=e,this.open=!1,this.selectedValue()}get filteredList(){if(this.searchValue.trim().length>0){const e=e=>e.includes(this.searchValue.toUpperCase());return this.optionsList.filter((t=>e(t)))}return this.optionsList}};V([(0,P.fI)(Array)],I.prototype,"optionsList",void 0),V([(0,P.fI)(Boolean)],I.prototype,"search",void 0),V([(0,P.fI)({defaultValue:String,required:!1})],I.prototype,"defaultValue",void 0),V([(0,P.y1)("selected-value")],I.prototype,"selectedValue",null),I=V([(0,c.Ei)({})],I);var j=I,Z=r(89);const k=(0,Z.Z)(j,[["render",R]]);var x=k;const E=function(e,t){let r;return function(...n){clearTimeout(r),r=setTimeout((()=>{e.apply(this,n)}),t)}},L=function(e){let t=e;if(Math.abs(t)<1){const e=parseInt(t.toString().split("e-")[1],10);e&&(t*=10**(e-1),t=`0.${new Array(e).join("0")}${t.toString().substring(2)}`)}else{let r=parseInt(e.toString().split("+")[1],10);r>20&&(r-=20,t/=10**r,t+=new Array(r+1).join("0"))}return t};var T;(function(e){e["from"]="from",e["to"]="to"})(T||(T={}));var H=function(e,t,r,n){var o,s=arguments.length,c=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(s<3?o(c):s>3?o(t,r,c):o(t,r))||c);return s>3&&c&&Object.defineProperty(t,r,c),c};let K=class extends c.w3{constructor(...e){super(...e),(0,m.Z)(this,"commonCurrencySeries",b.commonSeries),(0,m.Z)(this,"converterEnum",T),(0,m.Z)(this,"onChangeDebounced",E(this.onInputChange,400)),(0,m.Z)(this,"converterData",{from:{value:"",currency:"USD"},to:{value:"",currency:"BTC"},exchangeRate:0})}mounted(){this.setCurrencyRateByOne(this.converterEnum.from)}selectHandler(e,t){this.converterData[t].currency=e,this.setCurrencyRateByOne(t)}onInputChange(e,t){const r=e.target;this.converterData[t].value=+r.value,this.convert(t)}convert(e){const[,,,t]=this.getconverterDataValue(e),r=this.converterData[e].value;let n=0;const o=this.converterData.exchangeRate;e===this.converterEnum.to?n=L(o<1?+r/o:+r*o):e===this.converterEnum.from&&(n=L(o<1?+r*o:+r/o)),(r||n)&&(this.converterData[t].value=n)}getconverterDataValue(e){const t=this.converterData[e],r=t.currency,n=t.value,[o]=Object.keys(this.converterData).filter((t=>t!==e)),s=this.converterData[o].currency;return[r,s,n,o]}setCurrencyRateByOne(e){const[t,r]=this.getconverterDataValue(e);t&&r&&b.getCurrencyCompare(t,[r]).then((t=>{this.converterData.exchangeRate=+L(t.rates[r]),this.convert(e)}))}};K=H([(0,c.Ei)({components:{ISelect:x}})],K);var U=K;const A=(0,Z.Z)(U,[["render",v]]);var B=A;const W={class:"compare-wrapper"},$={class:"currencies"},z={class:"currencies__select"},q={class:"currencies__compare compare"},G={class:"item__name"},F={class:"item__value"};function J(e,t,r,n,s,c){const i=(0,o.up)("ISelect"),a=(0,o.up)("Popup");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",W,[(0,o._)("div",$,[(0,o._)("div",z,[(0,o.Wm)(i,{"options-list":e.selectCurrenciesList,"default-value":"",onSelectedValue:e.selectedHandler},null,8,["options-list","onSelectedValue"]),(0,o._)("button",{class:"btn-common select-settings",onClick:t[0]||(t[0]=(...t)=>e.openPopup&&e.openPopup(...t))},"⚙")]),(0,o._)("div",q,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.compareCurrenciesRates,(([e,t],r)=>((0,o.wg)(),(0,o.iD)("div",{key:r,class:"compare__item item"},[(0,o._)("div",G,(0,_.zw)(e),1),(0,o._)("div",F,(0,_.zw)(t),1)])))),128))])])]),(0,o.Wm)(a,{"is-open":e.isPopupOpen,onClose:e.closePopup},{content:(0,o.w5)((()=>[(0,o.Wm)(i,{"options-list":e.fullyCurrenciesSymbolsList,search:!0,"default-value":"",onSelectedValue:e.searchValue},null,8,["options-list","onSelectedValue"])])),actions:(0,o.w5)((()=>[(0,o._)("button",{class:"btn-common",onClick:t[1]||(t[1]=(...t)=>e.addCurrency&&e.addCurrency(...t))},"Add currency")])),_:1},8,["is-open","onClose"])],64)}const M=(0,o._)("h1",{class:"popup__title"},"Select a currency to add to the comparison list",-1),Y={class:"popup__content"},N={class:"popup__actions"};function Q(e,t,r,s,c,i){return e.isOpen?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"backdrop",onClick:t[2]||(t[2]=(...t)=>e.close&&e.close(...t)),onKeydown:t[3]||(t[3]=(...t)=>e.handleKeydown&&e.handleKeydown(...t))},[(0,o._)("div",{class:"popup",onClick:t[1]||(t[1]=(0,n.iM)((()=>{}),["stop"]))},[M,(0,o._)("div",Y,[(0,o.WI)(e.$slots,"content")]),(0,o._)("footer",N,[(0,o.WI)(e.$slots,"actions"),(0,o._)("button",{class:"btn-common",onClick:t[0]||(t[0]=(...t)=>e.close&&e.close(...t))},"Close")])])],32)):(0,o.kq)("",!0)}var X=function(e,t,r,n){var o,s=arguments.length,c=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(s<3?o(c):s>3?o(t,r,c):o(t,r))||c);return s>3&&c&&Object.defineProperty(t,r,c),c};let ee=class extends c.w3{constructor(...e){super(...e),(0,m.Z)(this,"isOpen",void 0)}close(){return!0}handleKeydown(e){this.isOpen&&"Escape"===e.key&&this.close()}};X([(0,P.fI)({isOpen:Boolean,required:!0})],ee.prototype,"isOpen",void 0),X([(0,P.y1)("close")],ee.prototype,"close",null),ee=X([(0,c.Ei)({components:{}})],ee);var te=ee;const re=(0,Z.Z)(te,[["render",Q]]);var ne=re;class oe{constructor(){(0,m.Z)(this,"currenciesKey","carrencyCompare")}getItem(e){return JSON.parse(localStorage.getItem(e)||"")}setItem(e,t){localStorage.setItem(e,JSON.stringify(t))}}var se=new oe,ce=function(e,t,r,n){var o,s=arguments.length,c=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(s<3?o(c):s>3?o(t,r,c):o(t,r))||c);return s>3&&c&&Object.defineProperty(t,r,c),c};let ie=class extends c.w3{constructor(...e){super(...e),(0,m.Z)(this,"baseCurrencySelected",void 0),(0,m.Z)(this,"isPopupOpen",!1),(0,m.Z)(this,"fullyCurrenciesSymbolsList",[]),(0,m.Z)(this,"selectCurrenciesList",["USD","EUR","UAH"]),(0,m.Z)(this,"compareCurrenciesList",new Set(["USD","EUR","UAH","BTC"])),(0,m.Z)(this,"compareCurrenciesRates",[]),(0,m.Z)(this,"selectedSearchValue",void 0)}mounted(){const e=se.currenciesKey;try{const t=se.getItem(e);this.compareCurrenciesList=new Set(t)}catch(t){se.setItem(e,[...this.compareCurrenciesList])}}selectedHandler(e){this.baseCurrencySelected=e,this.compareCurrencies()}compareCurrencies(){b.getCurrencyCompare(this.baseCurrencySelected,[...this.compareCurrenciesList]).then((e=>{this.compareCurrenciesRates=Object.entries(e.rates)}))}openPopup(){this.fullyCurrenciesSymbolsList.length<1&&b.getSymbols().then((e=>{this.fullyCurrenciesSymbolsList=Object.keys(e.symbols)})),this.isPopupOpen=!0}closePopup(){this.isPopupOpen=!1}searchValue(e){this.selectedSearchValue=e}addCurrency(){this.selectedSearchValue&&(this.compareCurrenciesList.add(this.selectedSearchValue),this.setCompareListToStorage())}setCompareListToStorage(){const e=se.currenciesKey;se.setItem(e,[...this.compareCurrenciesList])}};ie=ce([(0,c.Ei)({components:{ISelect:x,Popup:ne}})],ie);var ae=ie;const le=(0,Z.Z)(ae,[["render",J]]);var ue=le,pe=function(e,t,r,n){var o,s=arguments.length,c=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(s<3?o(c):s>3?o(t,r,c):o(t,r))||c);return s>3&&c&&Object.defineProperty(t,r,c),c};let de=class extends c.w3{};de=pe([(0,c.Ei)({components:{CurrencyConverter:B,CurrenciesCompareList:ue}})],de);var he=de;const fe=(0,Z.Z)(he,[["render",s]]);var ve=fe;(0,n.ri)(ve).mount("#app")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.m=e,function(){var e=[];r.O=function(t,n,o,s){if(!n){var c=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],s=e[u][2];for(var i=!0,a=0;a<n.length;a++)(!1&s||c>=s)&&Object.keys(r.O).every((function(e){return r.O[e](n[a])}))?n.splice(a--,1):(i=!1,s<c&&(c=s));if(i){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[n,o,s]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,s,c=n[0],i=n[1],a=n[2],l=0;if(c.some((function(t){return 0!==e[t]}))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(a)var u=a(r)}for(t&&t(n);l<c.length;l++)s=c[l],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(u)},n=self["webpackChunktest"]=self["webpackChunktest"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(1906)}));n=r.O(n)})();
//# sourceMappingURL=app.86d369be.js.map